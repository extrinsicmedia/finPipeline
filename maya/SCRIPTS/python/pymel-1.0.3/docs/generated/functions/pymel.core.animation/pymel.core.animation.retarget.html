

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pymel.core.animation.retarget &mdash; PyMEL v1.0.3 documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="PyMEL v1.0.3 documentation" href="../../../index.html" />
    <link rel="up" title="pymel.core.animation" href="../../pymel.core.animation.html" />
    <link rel="next" title="pymel.core.animation.rotationInterpolation" href="pymel.core.animation.rotationInterpolation.html" />
    <link rel="prev" title="pymel.core.animation.reroot" href="pymel.core.animation.reroot.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pymel.core.animation.rotationInterpolation.html" title="pymel.core.animation.rotationInterpolation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pymel.core.animation.reroot.html" title="pymel.core.animation.reroot"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">PyMEL v1.0.3 documentation</a> &raquo;</li>
          <li><a href="../../pymel.core.animation.html" accesskey="U">pymel.core.animation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pymel-core-animation-retarget">
<h1>pymel.core.animation.retarget<a class="headerlink" href="#pymel-core-animation-retarget" title="Permalink to this headline">¶</a></h1>
<dl class="staticmethod">
<dt id="pymel.core.animation.retarget">
<em class="property">static </em><tt class="descclassname">animation.</tt><tt class="descname">retarget</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pymel.core.animation.retarget" title="Permalink to this definition">¶</a></dt>
<dd><p>This command is used to take motion from one character and retarget it to a second character of a different size.</p>
<dl class="docutils">
<dt>Flags:</dt>
<dd><table border="1" class="first last docutils">
<colgroup>
<col width="1%" />
<col width="61%" />
<col width="19%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head" colspan="2">Long name (short name)</th>
<th class="head">Argument Types</th>
<th class="head">Properties</th>
</tr>
</thead>
<tbody valign="top">
<tr><td colspan="2"><strong>endFrame (end)</strong></td>
<td><em>int</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><dl class="first last docutils">
<dt>Specify the retargeting end frame. Default is 10.</dt>
<dd></dd>
</dl>
</td>
</tr>
<tr><td colspan="2"><strong>lowerBody (lb)</strong></td>
<td><em>unicode</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><p class="first">Specify the desired retargeting technique for the lower body. Valid options are: jointRotationsOnly, scaledFootPlacementand absoluteFootPlacement. Default is
scaledFootPlacement.</p>
<blockquote class="last">
<div></div></blockquote>
</td>
</tr>
<tr><td colspan="2"><strong>lowerScale (ls)</strong></td>
<td><em>unicode</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><p class="first">Specify the way scale is calculated for the lower body. Valid techniques are: hipToFoot, hipToToe, overallHeight, and other.  This option is used when the
lowerBody flag is set to anything other than jointRotationsOnly. Default is hipToFoot. When otheris used, the lowerScaleFactor flag should be used to specify the
scale factor.</p>
<blockquote class="last">
<div></div></blockquote>
</td>
</tr>
<tr><td colspan="2"><strong>lowerScaleFactor (lsf)</strong></td>
<td><em>float</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><dl class="first last docutils">
<dt>Specify the scale factor for the lower body. This option is only used when the lowerScale is set to other.</dt>
<dd></dd>
</dl>
</td>
</tr>
<tr><td colspan="2"><strong>maintainOffset (mo)</strong></td>
<td><em>bool</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><dl class="first last docutils">
<dt>When this flag is used, the root of the target character will stay the same distance from the source as at the rest pose.</dt>
<dd></dd>
</dl>
</td>
</tr>
<tr><td colspan="2"><strong>restPoseFrame (rpf)</strong></td>
<td><em>int</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><p class="first">The retargeting solution takes the rest pose of the characters into consideration. For example, one character may be bowlegged with respect to the other in the
rest pose. When retargeting animation from the bowlegged character to the non-bowlegged character, the solution will take the rest pose into account so that the
target character will receive the walk animation without the bowlegged aspects of the walk. The user has 2 options for specifying a restPose: specifying a frame
number at which the rest pose is defined, or defining a retargeting rest pose using the Retargeting-SetRestPose menu item. If you use a frame number for the rest
pose, the best practice is to use a frame that does not lie within the range of frames being retargeted. This allows you to retarget without wiping out the rest
pose.                                        Flag can have multiple arguments, passed either as a tuple or a list.</p>
<blockquote class="last">
<div></div></blockquote>
</td>
</tr>
<tr><td colspan="2"><strong>scaleHandsFrom (shf)</strong></td>
<td><em>unicode</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><p class="first">Specify where the arms are scaled from. Valid arguments are: shoulder, rootand origin. This option is only used when the upperBody flag is set to
scaledHandPlacement. Defaults is shoulder.</p>
<blockquote class="last">
<div></div></blockquote>
</td>
</tr>
<tr><td colspan="2"><strong>startFrame (s)</strong></td>
<td><em>int</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><dl class="first last docutils">
<dt>Specify the retargeting start frame. Default is 0.</dt>
<dd></dd>
</dl>
</td>
</tr>
<tr><td colspan="2"><strong>upperBody (ub)</strong></td>
<td><em>unicode</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><p class="first">Specify the desired retargeting technique for the upper body. Valid techniques are: jointRotationsOnly, scaledHandPlacement, absoluteHandPlacementand
maintainHandDistance. Default is jointRotationsOnly.</p>
<blockquote class="last">
<div></div></blockquote>
</td>
</tr>
<tr><td colspan="2"><strong>upperScale (us)</strong></td>
<td><em>unicode</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><p class="first">Specify the way scale is calculated for the upper body. Valid techniques are: shoulderToWrist, shoulderToHand, followLower, and other. This option is used when
the upperBody flag is set to anything other than jointRotationsOnly. Defaults is shoulderToHand. When otheris used, the upperScaleFactor flag should be used to
specify the scale factor.</p>
<blockquote class="last">
<div></div></blockquote>
</td>
</tr>
<tr><td colspan="2"><strong>upperScaleFactor (usf)</strong></td>
<td><em>float</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><dl class="first last docutils">
<dt>Specify the scale factor for the upper body. This option is used when the upperScale is set to other.</dt>
<dd></dd>
</dl>
</td>
</tr>
<tr><td colspan="2"><strong>useExistingKeys (uek)</strong></td>
<td><em>bool</em></td>
<td><img alt="../../../_images/create.gif" class="first last" src="../../../_images/create.gif" />
</td>
</tr>
<tr><td>&nbsp;</td>
<td colspan="3"><p class="first">When this flag is used, the existing keys on the target are used as a hint to help guide the retargeting solution. This option sometimes allows the solver to
narrow in on a better solution.</p>
<blockquote class="last">
<div></div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>Derived from mel command <tt class="xref py py-obj docutils literal"><span class="pre">maya.cmds.retarget</span></tt></p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pymel.core</span> <span class="kn">as</span> <span class="nn">pm</span>

<span class="c"># retarget the motion of bob onto joe using the scaled foot placement solver</span>
<span class="c">#</span>
<span class="n">pm</span><span class="o">.</span><span class="n">retarget</span><span class="p">(</span> <span class="s">&#39;bob&#39;</span><span class="p">,</span> <span class="s">&#39;joe&#39;</span><span class="p">,</span> <span class="n">startFrame</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endFrame</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">lowerBody</span><span class="o">=</span><span class="s">&#39;scaledFootPlacement&#39;</span> <span class="p">)</span>
<span class="c"># Retarget the motion of birdman onto splinterFace using the scaled foot placement</span>
<span class="c"># solver (default), using the hip-to-toe measurement to compute the scale.</span>
<span class="c"># Use the hierarchy location at frame -5 as the rest pose.</span>
<span class="c">#</span>
<span class="n">pm</span><span class="o">.</span><span class="n">select</span><span class="p">(</span> <span class="s">&#39;splinterFace&#39;</span><span class="p">,</span> <span class="s">&#39;birdman&#39;</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="bp">True</span> <span class="p">)</span>
<span class="n">pm</span><span class="o">.</span><span class="n">retarget</span><span class="p">(</span> <span class="n">startFrame</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endFrame</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">lowerScale</span><span class="o">=</span><span class="s">&#39;hipToToe&#39;</span><span class="p">,</span> <span class="n">restPoseFrame</span><span class="o">=-</span><span class="mi">5</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">


  <h4>Previous topic</h4>
  <p class="topless"><a href="pymel.core.animation.reroot.html"
                        title="previous chapter">pymel.core.animation.reroot</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pymel.core.animation.rotationInterpolation.html"
                        title="next chapter">pymel.core.animation.rotationInterpolation</a></p>
<h3><a href="../../../modules.html">Core</a></h3>
<ul>   
	<li><a class="reference external" href="../../pymel.core.animation.html#module-pymel.core.animation"><tt class="xref">animation</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.effects.html#module-pymel.core.effects"><tt class="xref">effects</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.general.html#module-pymel.core.general"><tt class="xref">general</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.language.html#module-pymel.core.language"><tt class="xref">language</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.modeling.html#module-pymel.core.modeling"><tt class="xref">modeling</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.rendering.html#module-pymel.core.rendering"><tt class="xref">rendering</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.system.html#module-pymel.core.system"><tt class="xref">system</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.windows.html#module-pymel.core.windows"><tt class="xref">windows</tt></a></li>
</ul>
<h3><a href="../../../modules.html">Core Modules</a></h3>
<ul> 
	<li><a class="reference external" href="../../pymel.core.datatypes.html#module-pymel.core.datatypes"><tt class="xref">datatypes</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.nodetypes.html#module-pymel.core.nodetypes"><tt class="xref">nodetypes</tt></a></li>  
	<li><a class="reference external" href="../../pymel.core.uitypes.html#module-pymel.core.uitypes"><tt class="xref">uitypes</tt></a></li>  
</ul>
<h3><a href="../../../modules.html">Other Modules</a></h3>
<ul>
	<li><a class="reference external" href="../../pymel.api.html#module-pymel.api"><tt class="xref">api</tt></a></li> 
	<li><a class="reference external" href="../../pymel.mayautils.html#module-pymel.mayautils"><tt class="xref">mayautils</tt></a></li>
	<li><a class="reference external" href="../../pymel.util.html#module-pymel.util"><tt class="xref">util</tt></a></li>
	<li><a class="reference external" href="../../pymel.versions.html#module-pymel.versions"><tt class="xref">versions</tt></a></li>
</ul>




<!--
<ul>   
<li><a class="reference external" href="../../pymel.core.animation.html.html#module-pymel.core.animation"><tt class="xref">animation</tt></a></li>
<li><a class="reference external" href="../../pymel.core.datatypes.html.html#module-pymel.core.datatypes"><tt class="xref">datatypes</tt></a></li>
<li><a class="reference external" href="../../pymel.core.effects.html.html#module-pymel.core.effects"><tt class="xref">effects</tt></a></li>
<li><a class="reference external" href="../../pymel.core.general.html.html#module-pymel.core.general"><tt class="xref">general</tt></a></li>
<li><a class="reference external" href="../../pymel.core.language.html.html#module-pymel.core.language"><tt class="xref">language</tt></a></li>
<li><a class="reference external" href="../../pymel.core.modeling.html.html#module-pymel.core.modeling"><tt class="xref">modeling</tt></a></li>
<li><a class="reference external" href="../../pymel.core.nodetypes.html.html#module-pymel.core.nodetypes"><tt class="xref">nodetypes</tt></a></li>
<li><a class="reference external" href="../../pymel.core.rendering.html.html#module-pymel.core.rendering"><tt class="xref">rendering</tt></a></li>
<li><a class="reference external" href="../../pymel.core.system.html.html#module-pymel.core.system"><tt class="xref">system</tt></a></li>
<li><a class="reference external" href="../../pymel.core.windows.html.html#module-pymel.core.windows"><tt class="xref">windows</tt></a></li>
<li><a class="reference external" href="../../pymel.util.html.html#module-pymel.util"><tt class="xref">pymel.util</tt></a></li>

</ul>
-->

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/generated/functions/pymel.core.animation/pymel.core.animation.retarget.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pymel.core.animation.rotationInterpolation.html" title="pymel.core.animation.rotationInterpolation"
             >next</a> |</li>
        <li class="right" >
          <a href="pymel.core.animation.reroot.html" title="pymel.core.animation.reroot"
             >previous</a> |</li>
        <li><a href="../../../index.html">PyMEL v1.0.3 documentation</a> &raquo;</li>
          <li><a href="../../pymel.core.animation.html" >pymel.core.animation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Chad Dombrova.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>