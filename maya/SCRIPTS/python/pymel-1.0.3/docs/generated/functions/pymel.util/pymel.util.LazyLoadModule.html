

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pymel.util.LazyLoadModule &mdash; PyMEL v1.0.3 documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="PyMEL v1.0.3 documentation" href="../../../index.html" />
    <link rel="up" title="pymel.util" href="../../pymel.util.html" />
    <link rel="next" title="pymel.util.abs" href="pymel.util.abs.html" />
    <link rel="prev" title="pymel.util.path" href="../../classes/pymel.util/pymel.util.path.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pymel.util.abs.html" title="pymel.util.abs"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../classes/pymel.util/pymel.util.path.html" title="pymel.util.path"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">PyMEL v1.0.3 documentation</a> &raquo;</li>
          <li><a href="../../pymel.util.html" accesskey="U">pymel.util</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pymel-util-lazyloadmodule">
<h1>pymel.util.LazyLoadModule<a class="headerlink" href="#pymel-util-lazyloadmodule" title="Permalink to this headline">¶</a></h1>
<dl class="staticmethod">
<dt id="pymel.util.LazyLoadModule">
<em class="property">static </em><tt class="descclassname">util.</tt><tt class="descname">LazyLoadModule</tt><big>(</big><em>name</em>, <em>contents</em><big>)</big><a class="headerlink" href="#pymel.util.LazyLoadModule" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of the module</li>
<li><strong>contents</strong> &#8211; dictionary of initial module globals</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This function returns a special module type with one method <tt class="xref py py-obj docutils literal"><span class="pre">_addattr</span></tt>.  The signature
of this method is:</p>
<blockquote>
<div>_addattr(name, creator, <a href="#id1"><span class="problematic" id="id2">*</span></a>creatorArgs, <a href="#id3"><span class="problematic" id="id4">**</span></a>creatorKwargs)</div></blockquote>
<p>Attributes added with this method will not be created until the first time that
they are accessed, at which point a callback function will be called to generate
the attribute&#8217;s value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of the attribute to lazily add</li>
<li><strong>creator</strong> &#8211; a function that create the</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">LazyLoadModule</span><span class="p">(</span><span class="n">__name__</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="n">mod</span><span class="o">.</span><span class="n">_addattr</span><span class="p">(</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span> <span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">__name__</span><span class="p">]</span> <span class="o">=</span> <span class="n">mod</span>
</pre></div>
</div>
<p>One caveat of this technique is that if a user imports everything from your
lazy module ( .e.g from module import * ), it will cause all lazy attributes
to be evaluated.</p>
<p>Also, if any module-level expression needs to reference something that only
exists in the LazyLoadModule, it will need to be stuck in after the creation of the
LazyLoadModule.  Then, typically, after defining all functions/classes/etc
which rely on the LazyLoadModule attributes, you will wish to update the
LazyLoadModule with the newly-created functions - typically, this is done
with the _updateLazyModule method.</p>
<p>Finally, any functions which reference any LazyLoadModule-only attributes,
whether they are defined after OR before the creation of the LazyLoadModule,
will have to prefix it with a reference to the LazyLoadModule.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">myFunc</span><span class="p">():</span>
    <span class="c"># need to preface foo with &#39;lazyModule&#39;,</span>
    <span class="c"># even though this function is defined before</span>
    <span class="c"># the creation of the lazy module!</span>
    <span class="k">print</span> <span class="s">&#39;foo is:&#39;</span><span class="p">,</span> <span class="n">lazyModule</span><span class="o">.</span><span class="n">foo</span>

<span class="n">mod</span> <span class="o">=</span> <span class="n">lazyLoadModule</span><span class="p">(</span><span class="n">__name__</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="n">mod</span><span class="o">.</span><span class="n">_addattr</span><span class="p">(</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span> <span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">__name__</span><span class="p">]</span> <span class="o">=</span> <span class="n">mod</span>

<span class="c"># create a reference to the LazyLoadModule in this module&#39;s</span>
<span class="c"># global space</span>
<span class="n">lazyModule</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">__name__</span><span class="p">]</span>

<span class="c"># define something which relies on something in the lazy module</span>
<span class="n">fooExpanded</span> <span class="o">=</span> <span class="n">lazyModule</span><span class="o">.</span><span class="n">foo</span> <span class="o">+</span> <span class="s">&#39;... now with MORE!&#39;</span>

<span class="c"># update the lazyModule with our new additions (ie, fooExpanded)</span>
<span class="n">lazyModule</span><span class="o">.</span><span class="n">_updateLazyModule</span><span class="p">(</span><span class="nb">globals</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">


  <h4>Previous topic</h4>
  <p class="topless"><a href="../../classes/pymel.util/pymel.util.path.html"
                        title="previous chapter">pymel.util.path</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pymel.util.abs.html"
                        title="next chapter">pymel.util.abs</a></p>
<h3><a href="../../../modules.html">Core</a></h3>
<ul>   
	<li><a class="reference external" href="../../pymel.core.animation.html#module-pymel.core.animation"><tt class="xref">animation</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.effects.html#module-pymel.core.effects"><tt class="xref">effects</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.general.html#module-pymel.core.general"><tt class="xref">general</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.language.html#module-pymel.core.language"><tt class="xref">language</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.modeling.html#module-pymel.core.modeling"><tt class="xref">modeling</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.rendering.html#module-pymel.core.rendering"><tt class="xref">rendering</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.system.html#module-pymel.core.system"><tt class="xref">system</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.windows.html#module-pymel.core.windows"><tt class="xref">windows</tt></a></li>
</ul>
<h3><a href="../../../modules.html">Core Modules</a></h3>
<ul> 
	<li><a class="reference external" href="../../pymel.core.datatypes.html#module-pymel.core.datatypes"><tt class="xref">datatypes</tt></a></li>
	<li><a class="reference external" href="../../pymel.core.nodetypes.html#module-pymel.core.nodetypes"><tt class="xref">nodetypes</tt></a></li>  
	<li><a class="reference external" href="../../pymel.core.uitypes.html#module-pymel.core.uitypes"><tt class="xref">uitypes</tt></a></li>  
</ul>
<h3><a href="../../../modules.html">Other Modules</a></h3>
<ul>
	<li><a class="reference external" href="../../pymel.api.html#module-pymel.api"><tt class="xref">api</tt></a></li> 
	<li><a class="reference external" href="../../pymel.mayautils.html#module-pymel.mayautils"><tt class="xref">mayautils</tt></a></li>
	<li><a class="reference external" href="../../pymel.util.html#module-pymel.util"><tt class="xref">util</tt></a></li>
	<li><a class="reference external" href="../../pymel.versions.html#module-pymel.versions"><tt class="xref">versions</tt></a></li>
</ul>




<!--
<ul>   
<li><a class="reference external" href="../../pymel.core.animation.html.html#module-pymel.core.animation"><tt class="xref">animation</tt></a></li>
<li><a class="reference external" href="../../pymel.core.datatypes.html.html#module-pymel.core.datatypes"><tt class="xref">datatypes</tt></a></li>
<li><a class="reference external" href="../../pymel.core.effects.html.html#module-pymel.core.effects"><tt class="xref">effects</tt></a></li>
<li><a class="reference external" href="../../pymel.core.general.html.html#module-pymel.core.general"><tt class="xref">general</tt></a></li>
<li><a class="reference external" href="../../pymel.core.language.html.html#module-pymel.core.language"><tt class="xref">language</tt></a></li>
<li><a class="reference external" href="../../pymel.core.modeling.html.html#module-pymel.core.modeling"><tt class="xref">modeling</tt></a></li>
<li><a class="reference external" href="../../pymel.core.nodetypes.html.html#module-pymel.core.nodetypes"><tt class="xref">nodetypes</tt></a></li>
<li><a class="reference external" href="../../pymel.core.rendering.html.html#module-pymel.core.rendering"><tt class="xref">rendering</tt></a></li>
<li><a class="reference external" href="../../pymel.core.system.html.html#module-pymel.core.system"><tt class="xref">system</tt></a></li>
<li><a class="reference external" href="../../pymel.core.windows.html.html#module-pymel.core.windows"><tt class="xref">windows</tt></a></li>
<li><a class="reference external" href="../../pymel.util.html.html#module-pymel.util"><tt class="xref">pymel.util</tt></a></li>

</ul>
-->

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/generated/functions/pymel.util/pymel.util.LazyLoadModule.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pymel.util.abs.html" title="pymel.util.abs"
             >next</a> |</li>
        <li class="right" >
          <a href="../../classes/pymel.util/pymel.util.path.html" title="pymel.util.path"
             >previous</a> |</li>
        <li><a href="../../../index.html">PyMEL v1.0.3 documentation</a> &raquo;</li>
          <li><a href="../../pymel.util.html" >pymel.util</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Chad Dombrova.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>